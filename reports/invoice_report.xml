<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <data>

      <template id="nuboogh_invoice_report" inherit_id="account.report_invoice_document">

        <xpath expr="//div[@id='informations']//div[@name='origin']" position="after">
          <div class="col-auto mw-100 mb-2" t-if="o.warehouse_location_id.location_id">
            <strong>
            إسم المخزن:  
            </strong>
            <br/>
            <p t-field="o.warehouse_location_id.location_id"></p>
          </div>

          <div class="col-auto mw-100 mb-2" t-if="o.invoice_type">
            <strong>
            نوع الفاتور:  
            </strong>
            <br/>
            <p t-field="o.invoice_type"></p>
          </div>


          <div class="col-auto mw-100 mb-2" t-if="o.user_id.name">
            <strong>
            مسؤول المبيعات:  
            </strong>
            <br/>
            <p t-field="o.user_id.name"></p>
          </div>
        </xpath>

        <xpath expr="//address" position="attributes">
          <attribute name="style">margin-bottom: 0px;</attribute>
          <attribute name="align">right</attribute>
        </xpath>

        <xpath expr="//table[@name='invoice_line_table']//th[@name='th_description']//span" position="replace">
          <span>إسم المادة</span>
        </xpath>
        <xpath expr="//table[@name='invoice_line_table']//th[@name='th_taxes']" position="replace"/>
        <xpath expr="//tbody[@class='invoice_tbody']//t[@name='account_invoice_line_accountable']//td[@t-if='display_discount']" position="replace"/>
        <xpath expr="//table[@name='invoice_line_table']//th[@name='th_price_unit']" position="replace"/>
        <xpath expr="//tbody[@class='invoice_tbody']//t[@name='account_invoice_line_accountable']//span[@id='line_tax_ids']//.." position="replace"/>

        <xpath expr="//table[@name='invoice_line_table']//th[@name='th_description']" position="after">
          <th name="th_type" class="text-right">
            <span>إسم المادة 2</span>
          </th>
          <th name="th_type" class="text-right">
            <span>الموديل</span>
          </th>
          <th name="th_cofo" class="text-right">
            <span>بلد المنشأ </span>
          </th>
        </xpath>

        <xpath expr="//tbody[@class='invoice_tbody']//t[@name='account_invoice_line_accountable']//td[1]" position="after">
          <td name='line.type' class="text-right">
            <span t-field='line.product_id.product_name_2'/>
          </td>

          <td name='line.type' class="text-right">
            <span t-field='line.product_id.product_type'/>
          </td>

          <td name='line.origin' class="text-right">
            <span t-field='line.product_id.country_of_origin'/>
          </td>
        </xpath>
        <xpath expr="//tbody[@class='invoice_tbody']//tr" position="attributes">
           <attribute name="style">font-weight: bold;</attribute>
          
        </xpath>

        <xpath expr="//div[@id='total']//table//tr[1]" position="before">
          <tr>
            <td>
              <strong class="mr12">الكمية المباعة</strong>
            </td>
            <td class="text-right">
              <span t-field="o.total_qty" class="text-left mr16"/>
            </td>
          </tr>
        </xpath>


        <xpath expr="//div[@id='total']" position="after">
          <div t-if="o.previous_customer_debit" class="row col-6" style="margin-bottom: 99px; margin-top: -99px;">

            <table class="table table-sm">
              <tr class="border-black o_subtotal" style="">
                <td>
                  <strong>الديون السابقة</strong>
                </td>
                <td class="text-right">
                  <span t-field="o.previous_customer_debit"/>
                </td>
              </tr>
              <tr class="border-black o_total">
                <td>
                  <strong>الديون الحالية</strong>
                </td>
                <td class="text-right">
                  <span t-field="o.partner_id.total_due"/>
                </td>
              </tr>
            </table>
          </div>

          <div class="row">
            <div class="col-2 text-center" style="border-bottom: solid black 1px; margin-right: 30px;">
              <span>
                التوقيع
              </span>
            </div>
            <div class="col-2 text-center" style="border-bottom: solid black 1px; margin-right: 30px;">
              <span>
                الختم
              </span>
            </div>
          </div>
        </xpath>

        <xpath expr="//p[@name='payment_communication']" position="replace"/>
        <xpath expr="//p[@name='payment_term']" position="replace"/>

      </template>

    </data>
  </odoo>
